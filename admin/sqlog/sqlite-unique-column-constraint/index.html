<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link id="syntax-theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>

    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:url" content="https://dev.meetgor.com/sqlog/sqlite-unique-column-constraint">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Meet Gor | SQLite SQL: UNIQUE column constraint">
    <meta property="og:description" content="">
    <meta property="twitter:domain" content="dev.meetgor.com">
    <meta property="twitter:url" content="https://dev.meetgor.com/sqlog/sqlite-unique-column-constraint">
    <meta name="twitter:title" content="SQLite SQL: UNIQUE column constraint">
    <meta name="twitter:description" content="">
    
        <meta property="og:image" content="tbicon.png">
        <meta name="twitter:image" content="tbicon.png">
        <meta name="twitter:image" content="../tbicon.png">
    
    <link rel="icon" href="../tbicon.png" type="image/png">
    <link rel="icon" href="tbicon.png" type="image/png">

    <script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll("pre code").forEach((block) => {
            hljs.highlightElement(block);
        });
    });
    </script>
    <title>Meet Gor | SQLite SQL: UNIQUE column constraint</title>
    <style>
            :root {
                --bg-color: #ffffff;
                --text-color: #333333;
                --secondary-text-color: ;
                --link-normal: #007bff;
                --link-hover: #0056b3;
                --link-active: #003a75;
                --quote-color: #999999;
                --code-bg-color: #dddddd;
                --code-border-color: #ced4da;
                --code-text-color: #444444;
                --code-comment-color: #808080;
                --code-keyword-color: #008000;
                --code-string-color: #000080;
                --code-number-color: #000000;
                --code-variable-color: #000000;
                --code-function-color: #000000;
            }

             
            .secondary-theme {
                --bg-color: #121212;
                --text-color: #ffffff;
                --secondary-text-color: #00ffff;
                --link-normal: #ff6600;
                --link-hover: #4682b4;
                --link-active: #00008b;
                --quote-color: #a9a9a9;
                --code-bg-color: #333333;
                --code-border-color: #444444;
                --code-text-color: #ffffff;
                --code-comment-color: #b0b0b0;
                --code-keyword-color: #32cd32;
                --code-string-color: #ff6347;
                --code-number-color: #d3d3d3;
                --code-variable-color: #b0e0e6;
                --code-function-color: #ff4500;
            }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            line-height: 1.6;
            max-width: 750px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 2rem;
            padding-bottom: 1rem;
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--secondary-text-color);
        }

        .site-title {
            font-size: 1.8rem;
            margin: 0;
        }

        .site-title a {
            color: var(--accent-color);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .site-title a:hover {
            color: var(--hover-color);
        }

        .Post-meta {
            color: var(--secondary-text);
            font-size: 0.9rem;
            margin: 1rem 0;
        }

        article {
            margin: 2rem 0;
        }

        pre {
            background-color: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        code {
            font-family: 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            font-size: 0.9em;
        }

        p code {
            background-color: var(--inline-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        blockquote {
            border-left: 3px solid var(--accent-color);
            margin: 1.5rem 0;
            padding-left: 1rem;
            color: var(--secondary-text);
        }

        a {
            color: var(--link-normal);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        a:hover {
            color: var(--hover-color);
        }

        .Hljs-comment { color: var(--code-comment); } 
        .Hljs-keyword { color: var(--code-keyword); }
        .Hljs-string { color: var(--code-string); }
        .Hljs-number { color: var(--code-number); }
        .Hljs-function { color: var(--code-function); }
        .Hljs-variable { color: var(--code-variable); }

        button, .Button {
            background-color: var(--accent-color);
            border: none;
            border-radius: 6px;
            color: var(--bg-color);
            cursor: pointer;
            font-family: inherit;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            transition: background-color 0.2s ease;
        }

        button:hover, .Button:hover {
            background-color: var(--hover-color);
        }


         
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            pre {
                margin: 1rem -1rem;
                border-radius: 0;
            }
        }

        code {
          font-family: monospace;
          padding: 2px 4px;
          border-radius: 4px;
        }

pre {
    background-color: var(--code-bg-color, #f5f5f5);
    border: 1px solid var(--code-border-color, #d1d1d1);
    border-radius: 6px;
    padding: 1rem;
    overflow-x: auto;
    margin: 1.5rem 0;
}

code {
    font-family: 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    font-size: 0.9em;
    color: var(--code-text-color, #fff);
}

p code {
    color: var(--code-text-color, #000);
    background-color: var(--code-bg-color, #444444);
    padding: 0.2em 0.4em;
    border-radius: 3px;
}

 
.Hljs-comment { color: var(--code-comment-color, #7d7d7d); }
.Hljs-keyword { color: var(--code-keyword-color, #005cc5); }
.Hljs-string { color: var(--code-string-color, #d73a49); }
.Hljs-number { color: var(--code-number-color, #e36209); }
.Hljs-variable { color: var(--code-variable-color, #6f42c1); }
.Hljs-function { color: var(--code-function-color, #005cc5); }

 
.secondary-theme pre {
    background-color: var(--code-bg-color, #1e1e1e);
    border: 1px solid var(--code-border-color, #3c3c3c);
}

.secondary-theme .Hljs-comment { color: var(--code-comment-color, #6a737d); }
.secondary-theme .Hljs-keyword { color: var(--code-keyword-color, #569cd6); }
.secondary-theme .Hljs-string { color: var(--code-string-color, #ce9178); }
.secondary-theme .Hljs-number { color: var(--code-number-color, #b5cea8); }
.secondary-theme .Hljs-variable { color: var(--code-variable-color, #9cdcfe); }
.secondary-theme .Hljs-function { color: var(--code-function-color, #dcdcaa); }

pre {
    background: var(--code-bg-color, #1e1e1e);
    border: 1px solid var(--code-border-color, #3c3c3c);
    border-radius: 8px;
    padding: 1rem;
    overflow-x: auto;
    margin: 1.5rem 0;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    position: relative;
}


 
code {
    font-family: 'Fira Code', 'Consolas', monospace;
    font-size: 0.9em;
    color: var(--code-text-color, #ffffff);
}

 
p code {
    background-color: var(--code-bg-color, #333);
    color: var(--code-text-color, #ffcb6b);
    padding: 0.2em 0.4em;
    border-radius: 4px;
    font-size: 0.9em;
}

 
.Hljs-comment { color: var(--code-comment-color, #6a737d); font-style: italic; }
.Hljs-keyword { color: var(--code-keyword-color, #c678dd); font-weight: bold; }
.Hljs-string { color: var(--code-string-color, #98c379); }
.Hljs-number { color: var(--code-number-color, #d19a66); }
.Hljs-variable { color: var(--code-variable-color, #e06c75); }
.Hljs-function { color: var(--code-function-color, #61afef); }

 
.copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: #4caf50;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: background 0.3s;
}

.copy-btn:hover {
    background: #45a049;
}

.copy-btn.copied {
    background: #ffa500;
}

blockquote {
    border-left: 4px solid var(--quote-color);
    background-color: rgba(255, 255, 255, 0.05);  
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
    font-style: italic;
    color: var(--secondary-text-color);
    border-radius: 6px;
    position: relative;
}

blockquote::before {
    content: "“";  
    font-size: 2rem;
    color: var(--quote-color);
    position: absolute;
    top: 0;
    left: 10px;
}

blockquote::after {
    content: "”";  
    font-size: 2rem;
    color: var(--quote-color);
    position: absolute;
    bottom: 0;
    right: 10px;
}

 
blockquote cite {
    display: block;
    text-align: right;
    font-size: 0.9em;
    margin-top: 0.5rem;
    color: var(--secondary-text-color);
    font-style: normal;
}
        #editor, #editor-edit {
            background-color: #4CAF50;  
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 5px;
        }
        #editor i {
            margin-right: 5px;  
        }
        #editor-edit i {
            margin-right: 5px;  
        }
    </style>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        const stylesheet = document.getElementById("syntax-theme");

        
        const currentTheme = localStorage.getItem("theme") || "light";

        
        function setSyntaxTheme(theme) {
            if (theme === "secondary") {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/dracula.min.css";
            } else {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css";
            }
        }

        
        if (currentTheme === "secondary") {
            body.classList.add("secondary-theme");
            setSyntaxTheme("secondary");
        } else {
            setSyntaxTheme("light");
        }

        
        themeToggle.addEventListener("click", () => {
            if (body.classList.contains("secondary-theme")) {
                body.classList.remove("secondary-theme");
                localStorage.setItem("theme", "light");
                setSyntaxTheme("light");
            } else {
                body.classList.add("secondary-theme");
                localStorage.setItem("theme", "secondary");
                setSyntaxTheme("secondary");
            }
        });
    });

        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll("pre").forEach((pre) => {
                const button = document.createElement("button");
                button.classList.add("copy-btn");
                button.textContent = "Copy";

                button.addEventListener("click", () => {
                    const code = pre.querySelector("code");
                    if (!code) return;

                    const textToCopy = code.innerText || code.textContent;
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        button.textContent = "Copied!";
                        button.classList.add("copied");

                        setTimeout(() => {
                            button.textContent = "Copy";
                            button.classList.remove("copied");
                        }, 1500);
                    });
                });

                pre.appendChild(button);
            });
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JX3T4E0964"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JX3T4E0964');
    </script>
    
    <link rel="icon" href="../../tbicon.png" type="image/png">
</head>
<body>
    <header class="header">
        <h1 class="site-title animated-gradient-text"><a href="/">Meet Gor</a></h1>
        <div class="theme-switch">
          <input type="checkbox" id="theme-toggle" aria-label="Toggle Theme">
          <label for="theme-toggle"></label>
        </div>
    </header>

    <main class="container">
        <article class="blog-post">
            <h1>SQLite SQL: UNIQUE column constraint</h1>
            <div class="post-meta">
                Published on 📅 <time datetime="2025-09-09">2025-09-09</time>
            </div>
            <div class="post-meta">
                Type: <a href="/sqlog">sqlog</a>
            </div>
            <div class="post-meta">
                <span class="post-series-label"> 🏷️ Tags:</span>
                
                <a href="/tags/sqlite">#sqlite</a>
                
                <a href="/tags/sql">#sql</a>
                
            </div>
            
            <div class="post-meta">
                
                    <button id="editor-edit">Edit</button>
                    <button id="editor-delete" 
                            onclick="location.href='/editor/?slug=sqlog\/sqlite-unique-column-constraint&method=delete'">
                        <i class="fas fa-trash"></i>Delete
                    </button>
                
            </div>
            <hr>
            <div class="post-content">
                <h2>Unique Constraint</h2>
<p>The <code>UNIQUE</code> constraint ensures that a column in a table contains no duplicate values. Like, if you add an <code>UNIQUE</code> constraint to a column, then no two rows can have the exact/same value for that column.</p>
<p>The documentation is more nuanced.</p>
<blockquote>
<p>A <code>UNIQUE</code> constraint is similar to a <code>PRIMARY KEY</code> constraint, <strong>except</strong> that a single table may have any number of <code>UNIQUE</code> constraints. For each <code>UNIQUE</code> constraint on the table, each row must contain a unique combination of values in the columns identified by the <code>UNIQUE</code> constraint. For the purposes of <code>UNIQUE</code> constraints, <code>NULL</code> values are considered distinct from all other values, including other NULLs. As with <code>PRIMARY KEY</code>s, a <code>UNIQUE</code> table-constraint clause must contain only column names — the use of expressions in an indexed-column of a <code>UNIQUE</code> table-constraint is not supported.</p>
</blockquote>
<p>There are three points to note, I'll simplify the points:</p>
<ol>
<li>If you add an <code>UNIQUE</code> constraint to a column, then no two rows can have the exact/same value for that column in that table.</li>
<li>The <code>UNIQUE</code> constraint considers <code>NULL</code> values as distinct i.e. it cannot distinguish between two rows having <code>NULL</code> values, hence two rows will pass the <code>UNIQUE</code> constraint. (Better to use <code>UNIQUE</code> and <code>NOT NULL</code>)</li>
<li>The <code>UNIQUE</code> constraint is tied to one or more columns, so you cannot add custom expressions to the <code>UNIQUE</code> constraint. (Better to use <code>UNIQUE INDEX</code> to create custom expression-based uniqueness or index for querying data.)</li>
</ol>
<h2>Adding a UNIQUE constraint</h2>
<p>To add a unique constraint to a column, simply add the <code>UNIQUE</code> keyword to the column definition:</p>
<p>Let's keep the table simple with just three fields: <code>name</code>, <code>email</code>, and <code>age</code>.</p>
<pre><code class="language-sql">CREATE TABLE users (
    name TEXT,
    email TEXT UNIQUE,
    age INTEGER CHECK (age &gt; 0)
);
</code></pre>
<p>Now, lets insert a few records</p>
<pre><code class="language-sql">INSERT INTO users (name, email, age) VALUES('alice', 'alice@wonderland.com', 12);
INSERT INTO users (name, email, age) VALUES('bob', 'bob@wonderland.com', 13);
</code></pre>
<p>Now, lets try to insert a record with the existing email value:</p>
<pre><code class="language-sql">INSERT INTO users (name, email, age) VALUES('charlie', 'alice@wonderland.com', 14);
</code></pre>
<p>This will immediately fail the <code>UNIQUE</code> constraint on the email, and the record will not be inserted.</p>
<pre><code>sqlite&gt; INSERT INTO users (name, email, age) VALUES('charlie', 'alice@wonderland.com', 14);
Runtime error: UNIQUE constraint failed: users.email (19)
</code></pre>
<p>Notice, as the constraint is only on the email column, it's not on the name or age columns.</p>
<pre><code class="language-sql">INSERT INTO users (name, email, age) VALUES('alice', 'charlie@wonderland.com', 12);

</code></pre>
<p>This will succeed, as the <code>UNIQUE</code> constraint is only on the email column. Hence, we can conclude that the <code>UNIQUE</code> constraint is on a column level when stated next to the column while creating the table.</p>
<pre><code class="language-sql">SELECT * FROM users;
</code></pre>
<pre><code>+-------+------------------------+-----+
| name  |         email          | age |
+-------+------------------------+-----+
| alice | alice@wonderland.com   | 12  |
| bob   | bob@wonderland.com     | 13  |
| alice | charlie@wonderland.com | 12  |
+-------+------------------------+-----+
sqlite&gt;
</code></pre>
<p>Let's understand the problem first with <code>NULL</code> values in UNIQUE constraint.</p>
<h2>Adding a UNIQUE constraint with NULL values</h2>
<p>What if I insert a record with a <code>NULL</code> value for the <code>email</code> column?</p>
<pre><code class="language-sql">INSERT INTO users (name, email, age) VALUES('charlie', NULL, 14);
--OR
INSERT INTO users (name, age) VALUES('charlie', 14);
</code></pre>
<p>That went in, it created the record, which is fine, so far, as there was no previous entry with <code>NULL</code> email in the table, or rather the <code>email</code> column.</p>
<pre><code class="language-sql">SELECT * FROM users;
</code></pre>
<p>However, what happens if we try to insert another record with a <code>NULL</code> value for the <code>email</code> column?</p>
<pre><code class="language-sql">INSERT INTO users (name, email, age) VALUES('dave', NULL, 15);
-- OR
INSERT INTO users (name, age) VALUES('dave', 15);
</code></pre>
<p>This goes in as well, Hhh? It shouldn't have right? If <code>alice@wonderland.com</code> is not allowed twice then why should <code>NULL</code> be allowed?</p>
<p>That's what the documentation clearly stated:</p>
<blockquote>
<p>For the purposes of <code>UNIQUE</code> constraints, <code>NULL</code> values are considered distinct from all other values, including other NULLs.</p>
</blockquote>
<p>That is clear as crystal, SQLite won't distinguish between two <code>NULL</code> values in the <code>email</code> column. Hence, we can't have duplicate <code>NULL</code> values in the <code>email</code> column.</p>
<p>For that we need to set email as <code>NOT NULL</code> as well as <code>UNIQUE</code> inorder to avoid populating <code>NULL</code> values in the <code>email</code> column.</p>
<h2>Adding UNIQUE Constraint on multiple columns</h2>
<p>If you wondered, can we add unique constraint on multiple columns? Yes, we can and there are subtle variations on how you interpret those as, multiple as in two or more columns unique independently or the combination of two or more columns being unique.</p>
<ol>
<li>Unique constraint independent of each other</li>
<li>Combinational Unique constraint</li>
</ol>
<h3>Unique constraint independent of each other</h3>
<p>Let's say we want to add constraint to the user table, which could have more than one column that needs to be unique, like example, the <code>phone_number</code> for two users cannot be same, and so on.</p>
<pre><code class="language-sql">DROP TABLE users;
CREATE TABLE users (
    name TEXT,
    email TEXT UNIQUE,
    phone_number TEXT UNIQUE,
    government_id TEXT UNIQUE,
    age INTEGER CHECK (age &gt; 0),
    bio TEXT
);
</code></pre>
<p>In the above table schema, we have three unique constraints, <code>email</code>, <code>phone_number</code>, and <code>government_id</code>. Each unique constraint is independent of each other. Let's take a look at a few cases in order to understand it better.</p>
<pre><code class="language-sql">INSERT INTO users (name, email, phone_number, government_id, age, bio) 
    VALUES('alice', 'alice@wonderland.com', '1234567890', 'ABC123', 12, 'I am alice');
INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('bob', 'bob@wonderland.com', '1234567891', 'DEF456', 13, 'I am bob');
</code></pre>
<pre><code class="language-sql">SELECT * FROM users;
</code></pre>
<p>That is the simple case, However what would happen if one user has the same <code>phone_number</code>, and <code>government_id</code> but different <code>email</code>?</p>
<pre><code class="language-sql">INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('alice', 'new_alice@wonderland.com', '1234567890', 'ABC123', 12, 'I am alice');
</code></pre>
<pre><code>sqlite&gt; INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('alice', 'new_alice@wonderland.com', '1234567890', 'ABC123', 12, 'I am alice');

Runtime error: UNIQUE constraint failed: users.government_id (19)
</code></pre>
<p>Nope, it is independent of each constraint, no two rows can have the same <code>government_id</code> or <code>phone_number</code> and even the <code>email</code> column.</p>
<p>Now, what if we want to allow <code>phone_number</code>, <code>government_id</code> and <code>email_id</code> to have a unique combination? Like the three of the columns together should be unique across the table, now with that they won't be unique across the single column, they are combined.</p>
<h3>Combinational Unique constraint</h3>
<p>In a combinational unique constraint, we can add two or more columns like <code>UNIQUE(colum_1, column_2, ... column_n)</code> as a combinational constraint.</p>
<p>In this type of constraint:</p>
<ul>
<li>Not necessarily each column needs to be unique, the combination of the <code>N</code> columns should be unique</li>
</ul>
<pre><code class="language-sql">DROP TABLE users;
CREATE TABLE users (
    name TEXT,
    email TEXT NOT NULL,
    phone_number TEXT NOT NULL,
    government_id TEXT NOT NULL,
    age INTEGER CHECK (age &gt; 0),
    bio TEXT,
    UNIQUE(email, phone_number, government_id)
);

-- OR

-- CREATE TABLE users(
--     name TEXT,
--     email TEXT NOT NULL,
--     phone_number TEXT NOT NULL,
--     age INTEGER CHECK (age &gt; 0),
--     bio TEXT,
--     UNIQUE(email, phone_number)
-- );
</code></pre>
<p>I am just making it up, its not secure, like combination of <code>email</code>, <code>phone_number</code> and <code>government_id</code> is not secure, you can debate about that, but it's  not a data-integrity and schema-design class, this post is about understanding the <code>UNIQUE</code> column constraint with combination of two or more columns.</p>
<pre><code class="language-sql">INSERT INTO users (name, email, phone_number, government_id, age, bio) 
    VALUES('alice', 'alice@wonderland.com', '1234567890', 'ABC123', 12, 'I am alice');
INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('bob', 'bob@wonderland.com', '1234567891', 'DEF456', 13, 'I am bob');
INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('alice', 'new_alice@wonderland.com', '1234567890', 'ABC123', 12, 'I am alice');
</code></pre>
<pre><code class="language-sql">SELECT * FROM users;
</code></pre>
<p>That works! We have <code>1234567890</code> as the <code>phone_number</code> and <code>ABC123</code> as the <code>government_id</code> which is same, but <code>email</code> is different. So, the combination of <code>email</code>, <code>phone_number</code> and <code>government_id</code> is unique.</p>
<pre><code>sqlite&gt; SELECT * FROM users;
+-------+--------------------------+--------------+---------------+-----+------------+
| name  |          email           | phone_number | government_id | age |    bio     |
+-------+--------------------------+--------------+---------------+-----+------------+
| alice | alice@wonderland.com     | 1234567890   | ABC123        | 12  | I am alice |
| bob   | bob@wonderland.com       | 1234567891   | DEF456        | 13  | I am bob   |
| alice | new_alice@wonderland.com | 1234567890   | ABC123        | 12  | I am alice |
+-------+--------------------------+--------------+---------------+-----+------------+
sqlite&gt; INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('bob', 'new_alice@wonderland.com', '0987654321', 'ABC123', 12, 'I am alice');
sqlite&gt; SELECT * FROM users;
+-------+--------------------------+--------------+---------------+-----+------------+
| name  |          email           | phone_number | government_id | age |    bio     |
+-------+--------------------------+--------------+---------------+-----+------------+
| alice | alice@wonderland.com     | 1234567890   | ABC123        | 12  | I am alice |
| bob   | bob@wonderland.com       | 1234567891   | DEF456        | 13  | I am bob   |
| alice | new_alice@wonderland.com | 1234567890   | ABC123        | 12  | I am alice |
| bob   | new_alice@wonderland.com | 0987654321   | ABC123        | 12  | I am alice |
+-------+--------------------------+--------------+---------------+-----+------------+
sqlite&gt;
</code></pre>
<pre><code class="language-sql">INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('alice', 'new_alice@wonderland.com', '1234567890', 'ABC123', 12, 'I am alice');
</code></pre>
<pre><code>sqlite&gt; INSERT INTO users (name, email, phone_number, government_id, age, bio)
    VALUES('bob', 'new_alice@wonderland.com', '0987654321', 'ABC123', 12, 'I am alice');
Runtime error: UNIQUE constraint failed: users.email, users.phone_number, users.government_id (19)
sqlite&gt;
</code></pre>
<p>Now this will fail, as the <code>email</code>, <code>phone_number</code>, <code>government_id</code> combination is already unique.</p>
<h2>Primary key vs Unique Constraint</h2>
<p>Both of these do the same thing, but <code>UNIQUE</code> can be added to multiple columns however, the <code>PRIMARY KEY</code> should only be one, but it can contain multiple columns. In other words, UNIQUE constraint is column-level, however each table can only have one <code>PRIMARY KEY</code> that will be used to indentify the uniqueness among the rows.</p>
<pre><code>PRIMARY KEY = UNIQUE + NOT NULL
</code></pre>
<p>Primary key is also a shorthand for <code>UNIQUE</code> and <code>NOT NULL</code>, if you add a <code>PRIMARY KEY</code> to a column or combination of columns for a table, you needn't specify <code>UNIQUE</code> and <code>NOT NULL</code>, it already does that for you.</p>
<p>So, that is the general difference of <code>UNIQUE</code> and <code>PRIMARY KEY</code>, we'll explore the <code>PRIMARY KEY</code> in later posts.</p>

            </div>
        </article>
    </main>
      <div id="comments">
        <script src="https://giscus.app/client.js"
            data-repo="Mr-Destructive/mr-destructive.github.io"
            data-repo-id="R_kgDOHZ6V_g"
            data-category="Q&A"
            data-category-id="DIC_kwDOHZ6V_s4CRfn4"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="dark_high_contrast"
            data-lang="en"
            crossorigin="anonymous"
            async
        >
        </script>
      </div>
    
    <footer class="site-footer">
        <div class="container">
            <p>&copy; Meet Gor. All rights reserved.</p>
        </div>
    </footer>


    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const editBtn = document.getElementById('editor-edit');

        if (editBtn) {
            editBtn.addEventListener('click', async function () {
                const slug = "sqlog\/sqlite-unique-column-constraint";
                const type = "sqlog";
                console.log("Editing post:", slug, type);
                const url = "https:\/\/devmeetgor.netlify.app/.netlify/functions/api?slug=" + slug + "&method=edit&type=" + type;

                try {
                    const res = await fetch(url);

                    if (!res.ok) throw new Error("Failed to fetch edit content");
                    console.log(res);

                    const html = await res.text();
                    console.log(html);

                    document.querySelector('.post-content').innerHTML = html;
                } catch (err) {
                    console.error(err);
                    alert("Error loading editor content");
                }
            });
        }
    });
    </script>
</body>
</html>
